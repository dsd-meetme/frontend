<div class="navbar navbar-default">
    <div class="container-fluid">
        <!-- HEADER -->
        <div class="navbar-header">
            <a class="navbar-brand" href="#">
                <img src="assets/img/plunner.png" alt=""/>
            </a>
        </div>
        <div class="navbar-collapse collapse navbar-right">
            <ul class="nav navbar-nav navbar-right">
                <li class="user_section">
                    <a href="/#/user/profile">
                        <img class="user_icon" src="assets/img/user_icon.png" alt=""/>
                    <span></span> Employee Name</a>
                </li>
                <li>
                    <button type="button" class="navbar_button" logout redirect="/">SIGN OUT</button>
                </li>
            </ul>
        </div>
    </div>
</div>
<div class="container-fluid udash">
    <div class="section_heading row">
        <h1 class="text-center font_light">Welcome to your dashboard!</h1>
    </div>
    <div class="sub_section_switcher row">
        <div class="col-md-8 col-md-push-2">
            <button type="button" ng-class="{sub_section_switcher_selected : udashC.viewSections.meetings}"
                    ng-click="udashC.viewSections.showMeetings()">MEETINGS
            </button>
            <button type="button" ng-class="{sub_section_switcher_selected : udashC.viewSections.schedules}"
                    ng-click="udashC.viewSections.showSchedules()">SCHEDULES
            </button>
        </div>
    </div>
    <br/>
    <br/>
    <br/>
    <div class="row" ng-show="udashC.viewSections.meetings">
        <div class="col-md-8 col-md-push-2">
            <div class="row sub_section_actionbar">
                <div class="col-md-12">
                    <div class="search_input">
                        <i class="fa fa-search fa-lg"></i>
                        <input type="search" ng-model="filterISchedules" placeholder="Search for..."/>
                    </div>
                    <a href="/#/user/newmeeting/_" class="main_button">
                        <i class="fa fa-plus"></i>
                        &nbsp;&nbsp;Plan a meeting
                    </a>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="udash_content_type_title">
                        <h4><i class="fa fa-cogs"></i>&nbsp;&nbsp;MEETINGS TO BE PLANNED</h4>
                    </div>
                    <div class="tile"
                         ng-repeat="meeting in udashC.meetings.toBePlanned | filter: {title : filterTBPMeetings} | limitTo : udashC.limits.tpmeetings">
                        <div class="row">
                            <div class="col-md-1  tileIconLeft">
                                <img src="assets/img/meeting_one.png" alt=""/>
                            </div>
                            <div class="col-md-10 tileBody">
                                <h4 class="tileTitle">{{meeting.title}}</h4>
                                <div class="tileDescription">
                                    {{meeting.description}}
                                </div>
                                <div class="tileBottomGroup">
                                    <ul class="list-inline list-unstyled">
                                        <li>
                                            <span class="tileSynched">DURATION:</span>
                                            &nbsp;&nbsp;{{meeting.duration/60}}mins
                                        </li>
                                        <li><span class="tileSynched">GROUP:</span>
                                            &nbsp;&nbsp;{{meeting.group_name}}
                                        </li>
                                        <li>
                                            <button ng-click="udashC.deletePlannedMeeting(meeting.group_id, meeting.id)">
                                                <i class="fa fa-trash-o"></i><span>&nbsp;&nbsp;DELETE</span>
                                            </button>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-1 text-right tileIconRight">
                                <a href="/#/user/newmeeting/{{meeting.group_id}}&{{meeting.id}}">
                                    <?xml version="1.0" encoding="UTF-8" standalone="no"?>
                                    <svg width="15px" height="32px" viewBox="0 0 37 76" version="1.1"
                                         xmlns="http://www.w3.org/2000/svg" ng-click="">
                                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                            <g transform="translate(-1202.000000, -14.000000)" fill="#dddddd">
                                                <path d="M1228.02325,50.9383888 L1202.0559,84 L1208.31538,89.5463755 L1236.38284,53.4511569 L1238.33675,50.9383905 L1236.32694,48.4701061 L1208.25948,14 L1202.0559,19.0512964 L1228.02325,50.9383888 Z"></path>
                                            </g>
                                        </g>
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>
                    <h4 ng-show="udashC.meetings.toBePlanned.length === 0" class="text-center udash_empty_state_msg font_normal">Sorry, no meetings to be planned for you yet!</h4>
                </div>
            </div>
            <br/>
            <br/>
            <div class="row">
                <div class="col-md-12">
                    <div class="udash_content_type_title">
                        <h4><i class="fa fa-thumb-tack"></i>&nbsp;&nbsp;PLANNED MEETINGS</h4>
                    </div>
                    <div class="tile"
                         ng-repeat="meeting in udashC.meetings.planned | filter: {title : filterTBPMeetings} | limitTo : udashC.limits.tpmeetings">
                        <div class="row">
                            <div class="col-md-1  tileIconLeft">
                                <img src="assets/img/meeting_two.png" alt=""/>
                            </div>
                            <div class="col-md-10 tileBody">
                                <h4 class="tileTitle">{{meeting.title}}</h4>
                                <div class="tileDescription">
                                    {{meeting.description}}
                                </div>
                                <div class="tileBottomGroup">
                                    <ul class="list-inline list-unstyled">
                                        <li>
                                            <span>STARTS ON:</span>
                                            &nbsp;&nbsp;{{meeting.start_time}}
                                        </li>
                                        <li>
                                            <span class="tileSynched">DURATION:</span>
                                            &nbsp;&nbsp;{{meeting.duration/60}}mins
                                        </li>
                                        <li>
                                            <span class="tileSynched">GROUP:</span>
                                            &nbsp;&nbsp;{{meeting.group_name}}
                                        </li>
                                        <li>
                                            <button ng-click="udashC.deletePlannedMeeting(meeting.group_id, meeting.id)">
                                                <i class="fa fa-trash-o"></i>&nbsp;&nbsp;DELETE
                                            </button>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-1 text-right tileIconRight">
                                <a href="#">
                                    <?xml version="1.0" encoding="UTF-8" standalone="no"?>
                                    <svg width="15px" height="32px" viewBox="0 0 37 76" version="1.1"
                                         xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                            <g transform="translate(-1202.000000, -14.000000)" fill="#dddddd">
                                                <path d="M1228.02325,50.9383888 L1202.0559,84 L1208.31538,89.5463755 L1236.38284,53.4511569 L1238.33675,50.9383905 L1236.32694,48.4701061 L1208.25948,14 L1202.0559,19.0512964 L1228.02325,50.9383888 Z"></path>
                                            </g>
                                        </g>
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>
                    <h4 ng-show="udashC.meetings.planned.length === 0" class="text-center udash_empty_state_msg font_normal">Sorry, no meetings to be planned for you yet!</h4>
                </div>
            </div>
        </div>
    </div>
    <div class="row" ng-show="udashC.viewSections.schedules">
        <div class="col-md-8 col-md-push-2">
            <div class="row sub_section_actionbar">
                <div class="col-md-12">
                    <div class="search_input">
                        <i class="fa fa-search fa-lg"></i>
                        <input type="search" ng-model="filterISchedules" placeholder="Search for..."/>
                    </div>
                    <button class="main_button" ng-click="udashC.importSchedule.popUp.show()">
                        <i class="fa fa-plus"></i>
                        &nbsp;&nbsp;Import Schedule
                    </button>
                    <a href="/#/user/schedules/compose/_" class="main_button">
                        <i class="fa fa-pencil fa-lg"></i>&nbsp;&nbsp;
                        Compose a schedule
                    </a>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="udash_content_type_title">
                        <h4><i class="fa fa-exchange"></i>&nbsp;&nbsp;IMPORTED SCHEDULES</h4>
                    </div>
                    <div class="tile tile-small"
                         ng-repeat="schedule in udashC.schedules.imported | filter: {name : filterISchedules} | limitTo : udashC.limits.ischedules">
                        <div class="row">
                            <div class="col-md-1 text-right tileIconLeft">
                                <img src="assets/img/schedule_one.png" alt=""/>
                            </div>
                            <div class="col-md-10 tileBody">
                                <h4 class="tileTitle">{{schedule.name}}</h4>
                                <div class="tileBottomGroup">
                                    <ul class="list-inline list-unstyled">
                                        <li>
                                            <span class="tileActiveInfo" ng-show="schedule.enabled === '1'">
                                                ACTIVE
                                            </span>
                                            <span class="tileNonActiveInfo" ng-show="schedule.enabled !=='1'" class="fa fa-circle-o">
                                                INACTIVE
                                            </span>
                                        </li>
                                        <li>
                                            <span>SYNCED ON:</span>
                                            &nbsp;&nbsp;{{schedule.caldav.updated_at}}
                                        </li>
                                        <li>
                                            <button  ng-click="udashC.deleteSchedule(schedule.id)">
                                                <i class="fa fa-trash-o"></i>
                                                &nbsp;&nbsp;DELETE
                                            </button>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-1 text-center tileIconRight">
                                <?xml version="1.0" encoding="UTF-8" standalone="no"?>
                                <svg width="15px" height="32px" viewBox="0 0 37 76" version="1.1" xmlns="http://www.w3.org/2000/svg" ng-click="udashC.editSchedule.popUp.show($index)">
                                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                        <g transform="translate(-1202.000000, -14.000000)" fill="#dddddd">
                                            <path d="M1228.02325,50.9383888 L1202.0559,84 L1208.31538,89.5463755 L1236.38284,53.4511569 L1238.33675,50.9383905 L1236.32694,48.4701061 L1208.25948,14 L1202.0559,19.0512964 L1228.02325,50.9383888 Z"></path>
                                        </g>
                                    </g>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <p ng-show="udashC.schedules.imported.length === 0" class="text-center"
                       style="font-size: 16px; font-style: italic">None</p>
                </div>
            </div>
            <br/>
            <br/>
            <div class="row">
                <div class="col-md-12">
                    <div class="udash_content_type_title">
                        <h4><i class="fa fa-pencil"></i>&nbsp;&nbsp;COMPOSED SCHEDULES</h4>
                    </div>
                    <div class="tile tile-small"
                         ng-repeat="schedule in udashC.schedules.composed | filter: {name : filterISchedules}">
                        <div class="row">
                            <div class="col-md-1 tileIconLeft">
                                <img src="assets/img/schedule_two.png" alt=""/>
                            </div>
                            <div class="col-md-10 tileBody">
                                <h4 class="tileTitle">{{schedule.name}}</h4>

                                <div class="tileBottomGroup">
                                    <ul class="list-inline list-unstyled">
                                        <li><span class="tileActiveInfo"
                                                  ng-show="schedule.enabled === '1'">ACTIVE</span>
                                            <span class="tileNonActiveInfo" ng-show="schedule.enabled !=='1'"
                                                  class="fa fa-circle-o">INACTIVE</span></li>
                                        <li><span>LAST UPDATE:</span>&nbsp;&nbsp;{{schedule.updated_at}}</li>
                                        <li>
                                            <button><i class="fa fa-trash-o"></i><span>&nbsp;&nbsp;DELETE</span>
                                            </button>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-1 text-right tileIconRight">
                                <?xml version="1.0" encoding="UTF-8" standalone="no"?>
                                <svg width="15px" height="32px" viewBox="0 0 37 76" version="1.1"
                                     xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                        <g transform="translate(-1202.000000, -14.000000)" fill="#dddddd">
                                            <path d="M1228.02325,50.9383888 L1202.0559,84 L1208.31538,89.5463755 L1236.38284,53.4511569 L1238.33675,50.9383905 L1236.32694,48.4701061 L1208.25948,14 L1202.0559,19.0512964 L1228.02325,50.9383888 Z"></path>
                                        </g>
                                    </g>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <p ng-show="udashC.schedules.composed.length === 0" class="text-center"
                       style="font-size: 16px; font-style: italic">None</p>
                </div>
            </div>
        </div>
        <!-- popup-->
        <div id="importSchedule" class="modal" role="dialog" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Import schedule</h3>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                    </div>
                    <form name="importScheduleForm" novalidate>
                        <div class="modal-body">
                            <div>
                                <p>CalDav url</p>
                                <input name="url" type="url" ng-model="udashC.importSchedule.url"
                                       placeholder="Insert CalDav url" required>
                            </div>
                            <div>
                                <p>CalDav Username</p>
                                <input type="text" name="username" ng-model="udashC.importSchedule.username"
                                       placeholder="Insert CalDav username" required>

                                <p>CalDav Password</p>
                                <input type="password" name="password" ng-model="udashC.importSchedule.password"
                                       required placeholder="Insert CalDav password">
                            </div>
                            <button class="btn btn-default glob_button" ng-click="udashC.importSchedule.getCalendars()">
                                <i class="fa fa-arrow-down"></i>&nbsp;&nbsp;Get schedules
                            </button>
                            <img ng-show="udashC.importSchedule.showLoader" src="assets/img/loader.gif" width="24px"
                                 alt="">

                            <div ng-show="udashC.importSchedule.calendars.length > 0">
                                <h4>Available schedules</h4>
                                <table class="table">
                                    <thead>
                                    <th></th>
                                    <th></th>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="calendar in udashC.importSchedule.calendars">
                                        <td>{{calendar.value}}</td>
                                        <td>
                                            <label class="circled-checkbox">
                                                <input type="checkbox"
                                                       ng-model="udashC.importSchedule.calendars[$index].selected"/>
                                                <span class="label-text"></span>
                                            </label>
                                        </td>
                                    </tr>
                                    </tbody>
                                    <tbody></tbody>
                                </table>
                            </div>
                            <div class="errorContainer"
                                 ng-show="udashC.importSchedule.thereErrors || udashC.importSchedule.errors.length > 0">
                                <p class="text-danger" ng-repeat="error in udashC.importSchedule.errors">{{error}}</p>

                                <p class="text-danger" ng-show="udashC.importSchedule.invalidFields.urlRequired">Insert
                                    a caldav url</p>

                                <p class="text-danger" ng-show="udashC.importSchedule.invalidFields.urlVal">Insert a
                                    valid caldav url</p>

                                <p class="text-danger" ng-show="udashC.importSchedule.invalidFields.usernameRequired">
                                    Insert a username</p>

                                <p class="text-danger" ng-show="udashC.importSchedule.invalidFields.passwordRequired">
                                    Insert a password</p>
                            </div>

                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-default glob_button" data-dismiss="modal" aria-label="Close">Close
                            </button>
                            <button class="btn btn-default glob_button" ng-click="udashC.importSchedule.submit()">
                                Import
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div id="editSchedule" class="modal" role="dialog" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Edit schedule</h3>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                    </div>
                    <form name="editScheduleForm" novalidate>
                        <div class="modal-body">
                            <p>Name</p>
                            <input required name="name" type="text" ng-model="udashC.editSchedule.data.name"/>

                            <p>CalDav calendar name</p>
                            <input required name="cal_name" type="text"
                                   ng-model="udashC.editSchedule.data.cal_name"/><br/>

                            <p>CalDav url</p>
                            <input required name="url" type="url" ng-model="udashC.editSchedule.data.url"/><br/>

                            <p>CalDav username</p>
                            <input required name="username" type="text"
                                   ng-model="udashC.editSchedule.data.username"/><br/>

                            <p>CalDav password</p>
                            <input name="password" type="password" ng-minLength="6"
                                   ng-model="udashC.editSchedule.data.password"/><br/>

                            <p>Confirm password</p>
                            <input name="password_confirmation" type="password"
                                   ng-model="udashC.editSchedule.password_confirmation"/><br/>

                            <p>Enabled</p>
                            <label class="circled-checkbox">
                                <input type="checkbox" ng-checked="udashC.editSchedule.data.enabled === '1'"
                                       ng-model="udashC.editSchedule.data.enabled"/>
                                <span class="label-text"></span>
                            </label>

                            <div class="errorContainer"
                                 ng-show="udashC.editSchedule.thereErrors || udashC.editSchedule.errors.length > 0">
                                <p ng-repeat="error in udashC.editSchedule.errors">{{error}}</p>

                                <p ng-show="udashC.editSchedule.invalidFields.nameReq" class="text-danger">Insert a name
                                    for the schedule</p>

                                <p ng-show="udashC.editSchedule.invalidFields.passwordLength" class="text-danger">The
                                    password must contains at least 6 characters</p>

                                <p ng-show="udashC.editSchedule.invalidFields.urlReq" class="text-danger">Insert the
                                    user email address</p>

                                <p ng-show="udashC.editSchedule.invalidFields.urlVal" class="text-danger">The email
                                    address is not valid</p>

                                <p ng-show="udashC.editSchedule.invalidFields.passwordMatch" class="text-danger">The two
                                    passwords do not match</p>

                                <p ng-show="udashC.editSchedule.invalidFields.usernameReq" class="text-danger">Insert
                                    the user name</p>

                                <p ng-show="udashC.editSchedule.invalidFields.calnameReq" class="text-danger">Insert the
                                    calendar name</p>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-default glob_button" data-dismiss="modal" aria-label="Close">Abort
                            </button>
                            <button class="btn btn-default glob_button" ng-click="udashC.editSchedule.submit()">Save
                                changes
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div id="confirmPopup" class="modal" role="dialog" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                    </div>
                    <div class="modal-body">
                        <h3 class="text-center">{{udashC.confirmPopup.message}}</h3>
                    </div>
                    <br/>
                </div>
            </div>
        </div>

    </div>
    <br/>
    <br/>
</div>